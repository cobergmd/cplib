/* CPLIB - Coding and Parsing Library
 * Copyright © Craig Oberg.  All rights reserved.
 */

#include "cplib/cpscanner.h"

#include <assert.h>
#include <string.h>

int 
cp_scanner_test (int argc, char* argv[])
{
    int i = 0;
	const char* text = "  1014 lauf lane\npasadena md 21122-5200";

    CpScanner* scanner;
    CpTokenList* tokens;
	CpTokenCell* cell;
	CpTokenCell* nextcell;

    scanner = cp_scanner_new();
    cp_scanner_tokenize(scanner, text);
    tokens = scanner->tokens;

	for (cell = tokens->first ; cell != NULL; cell = nextcell)
	{
		nextcell = cell->next;

        printf("%d: %s \n", ++i, cell->token.data);
    }

	cp_scanner_destroy(scanner);
}